:css
  #license_terms {
    overflow-y: scroll;
  }
  
= render partial: 'error_messages'
.container.content.mh-630
  = simple_nested_form_for(@booking)  do |f|
    %input{value: @provider.id}(name="provider_id" type="hidden")
    .row
      .col-md-12
        %h2.text-center.mt-35 Datos de la reserva
        %br
    .row
      .col-md-2
      .col-md-3
        = image_tag(@provider.avatar, width: '200px')
      .col-md-5
        %h2= @provider
        - @provider.locations.group_by(&:state_id).each do |k, state|
          %b= state.first.state
          %br
          %span.text-gray= state.map(&:name).join(", ")
    %br
    .row
      .col-md-2
      .col-md-8.row#datepair
        .col-md-3
          Llegada
          =f.input :start_date, as: :string, label: false, input_html: {class: "date start datepicker"} 
        .col-md-3
          Horas
          =f.input :start_date, as: :time, label: false, input_html: {class: "time start"} 
        .col-md-3
          Hora
          =f.input :end_date, as: :time, label: false, input_html: {class: "time end"} 
        .col-md-3
          Salida
          =f.input :end_date, as: :string, label: false, input_html: {class: "date end datepicker"}
    .row
      .col-md-2
      .col-md-8.mt-21.mb-42
        %h3.text-gray.mb-42 Resumen de la reserva:
        %h4.text-gray.light
          %small.text-black.bold Cuidador:
          = @provider.name
          = @provider.last_name_1
          = @provider.last_name_2
        %h4.text-gray.light
          %small.text-black.bold Precio:
          = current_country.currency
          = @provider.price.to_i * 1.2
          \/ noche
        %hr.hr-gray/
        .panel.panel-primary 
          .panel-body.line-regular
            .form-group
              = f.simple_fields_for :booked_pets do |p|
                .row.border-bottom
                  .col-md-3 Mascota:
                  .col-md-6= p.association :pet, label: false   
                  .col-md-3= p.link_to_remove "Eliminar"
              = f.link_to_add "Agregar una Mascota", :booked_pets, class: "btn btn-primary" 
            .form-group.row
              .col-md-6= f.input :pickup_time, class: "form-control mb-21", label: "Horario de recolección:", as: :time
              .col-md-6= f.input :dropoff_time, class: "form-control mb-21", label: "Horario de entrega:", as: :time
            .form-group.row
              .col-md-12= f.input :address, class: "form-control", label: "Dirección de Recojo", as: :text
            .form-group.row
              .col-md-12= f.input :cuidado_especial, class: "form-control", label: "¿Necesita cuidados, especiales?", as: :boolean
            .form-group.row
              .col-md-12
                = f.input :user_message, label: "Mensaje:", as: :text
            .form-group.row
              .col-md-6
                = f.input :ref_code, label: "Código de descuento:"  
            / Modal
        %br
        %h3.text-gray.mb-28 Quieres contratar servicios adicionales?
        .panel-body
          .form-group
            = f.simple_fields_for :booked_services do |p|
              .row.border-bottom
                .col-md-3 Servicio:
                .col-md-6= p.association :service, label: false   
                .col-md-3= p.link_to_remove "Eliminar"
            = f.link_to_add "Agregar un Servicio", :booked_services, class: "btn btn-primary" 
        .panel-heading 
          %hr.hr-gray/
        .panel-body
          = render partial: 'terms', locals: {f: f}
          
          .form-group.row
            .col-md-3
              %center= link_to 'Reservar', '#myModal', 'data-toggle' => 'modal', :class => "btn btn-primary form-control mt-21" 
              /, :onClick=>"_gaq.push(['_trackEvent', 'Homepage', 'Recomendar-modal-trigger']);"
          / panel-body
        / panel-default
        %div
          %h5 *La reservación del cuidador está sujeta a cambios por motivos de disponibilidad, tamaño de perro y cuidados necesarios.
      / col-md-8
    / row
    
:javascript 
  $('.datepicker').datepicker();