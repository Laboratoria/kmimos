css:
  .booking_resume{background-color:#fdfff7;margin:30px;color:#445a4f}.booking_resume .header{text-align:left;margin-left:auto;margin-right:auto;min-width:620px;width:100%}.booking_resume .header b{color:#4dbeac}.booking_resume .header .logo{float:right;position:absolute}.booking_resume tr.border-bottom td{padding:8px;border-bottom:2px solid #cbcfc8}.booking_resume .green-light-title{color:#4dbeac;text-align:left;font-weight:600}.booking_resume h1{font-weight:200;color:#526577;font-size:35px}.booking_resume p{color:#526577}.booking_resume .pet_table .strong_green{background-color:#ace2d3;width:40%;padding:5px}.booking_resume .pet_table .light_green{background-color:#e1eeea;width:60%;margin:5px;padding:20px}.booking_resume .pet_table .light_green h3{font-family:Montserrat-Regular;font-size:20px;color:#4dbeac;line-height:31.67px}.booking_resume .pet_table .light_green h4{font-family:Montserrat-Bold;font-size:17px;color:#2a3f55;line-height:18px;font-weight:500}
  .table table td,.table table th{border-bottom:1px solid #e0e0e0}.table table a:link{color:#666;font-weight:700;text-decoration:none}.table table a:visited{color:#999;font-weight:700;text-decoration:none}.table table a:active,.table table a:hover{color:#bd5a35;text-decoration:underline}.table table{font-family:Arial,Helvetica,sans-serif;color:#666;font-size:12px;text-shadow:1px 1px 0 #fff;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;-moz-box-shadow:0 1px 2px #d1d1d1;-webkit-box-shadow:0 1px 2px #d1d1d1;box-shadow:0 1px 2px #d1d1d1}.table table th{padding:11px 15px 12px;border-top:1px solid #fafafa}.table .total{color:#132835;text-align:right!important}.table table th:first-child{text-align:left;padding-left:20px}.table table tr:first-child th:first-child{-moz-border-radius-topleft:3px;-webkit-border-top-left-radius:3px;border-top-left-radius:3px}.table table tr:first-child th:last-child{-moz-border-radius-topright:3px;-webkit-border-top-right-radius:3px;border-top-right-radius:3px}.table table tr{text-align:center;padding-left:20px}.table table td:first-child{text-align:left;padding-left:20px;border-left:0}.table table td{padding:18px;border-top:1px solid #fff;border-left:1px solid #e0e0e0}.table table tr:last-child td{border-bottom:0}.table table tr:last-child td:first-child{-moz-border-radius-bottomleft:3px;-webkit-border-bottom-left-radius:3px;border-bottom-left-radius:3px}.table table tr:last-child td:last-child{-moz-border-radius-bottomright:3px;-webkit-border-bottom-right-radius:3px;border-bottom-right-radius:3px}

      
%body{style: "background-color: #fdfff7, margin: 30px; color: #445a4f;"}
  .container{:style => "margin: 0 auto;padding: 25px;"}
    .header
      %table
        %thead
          %tr
            %td
            %td.logo
              %img{:src => "http://s1.postimg.org/n12q65th7/logo_mail_confirmacion.png"}/
    .container-sm
      %tbody
        %tr
          %td
            %h1{:style => "font-family: arial;font-weight: 100;color: gray; font-size: 64px"} 
              %b Hola #{@booking.provider.name},
        %tr
          %td
            %p{style:"font-family: Montserrat-Light;font-size: 12px;color: #637988;line-height: 22px;"}  
              %b
                #{@booking.user.first_name} 
              ha hecho una reserva en Kmimos para que cuides a su(s) mascota(s) #{@booking.booked_pets.map{|b| b.pet.name}.join(', ')}
              Desde el dia 
              %b #{@booking.start_date} a las #{@booking.pickup_time} 
              hasta el
              %b #{@booking.end_date} a las #{@booking.dropoff_time}
            %p{style:"font-family: Montserrat-Light;font-size: 12px;color: #637988;line-height: 22px;"}  
              Recogiendo y entregando a los perritos en el domicilio ubicado en
              %b #{@booking.address}
            %p{style:"font-family: Montserrat-Light;font-size: 12px;color: #637988;line-height: 22px;"} 
              Para cualquier duda y/o comentario puedes contactarte al correo 
              %b #{@booking.user.email} 
        - @booking.booked_pets.each do |booked|
          %table
            %tr
              %td{style: "background-color: #ace2d3; width: 40%; padding: 5px;"}
                %label{style: "font-family: Montserrat-Bold;font-size: 14px;color: #637988;line-height: 18px;"} Nombre
                %p{style: "font-family: Montserrat-Light;font-size: 12px;color: #637988;line-height: 18px;"}  #{booked.pet}
                %label{style: "font-family: Montserrat-Bold;font-size: 14px;color: #637988;line-height: 18px;"} Raza
                %p{style: "font-family: Montserrat-Light;font-size: 12px;color: #637988;line-height: 18px;"}  #{booked.pet.race}
                %label{style: "font-family: Montserrat-Bold;font-size: 14px;color: #637988;line-height: 18px;"} Tamaño
                %p{style: "font-family: Montserrat-Light;font-size: 12px;color: #637988;line-height: 18px;"}  #{booked.pet.size}
                %label{style: "font-family: Montserrat-Bold;font-size: 14px;color: #637988;line-height: 18px;"} Peso
                %p{style: "font-family: Montserrat-Light;font-size: 12px;color: #637988;line-height: 18px;"}  #{booked.pet.weight}
                %label{style: "font-family: Montserrat-Bold;font-size: 14px;color: #637988;line-height: 18px;"} Peso
                %p{style: "font-family: Montserrat-Light;font-size: 12px;color: #637988;line-height: 18px;"}  #{booked.pet.sex}
              %td
                %h3{style: "font-family: Montserrat-Regular;font-size: 20px;color: #48CFC2;line-height: 31.67px;"} Acerca de #{booked.pet}
                %br
                %h4{style:"font-family: Montserrat-Bold;font-size: 15px;color: #637988;line-height: 18px;"} Comportamiento
                %p{style:"font-family: Montserrat-Light;font-size: 12px;color: #637988;line-height: 22px;"} #{booked.pet.behavior}
                %br
                %h4{style:"font-family: Montserrat-Bold;font-size: 15px;color: #637988;line-height: 18px;"} Consideraciones especiales
                %p{style:"font-family: Montserrat-Light;font-size: 12px;color: #637988;line-height: 22px;"} #{@booking.user_message}
        %br
        %h3 Servicios del Cuidador
        %br
        %table.table{width: "100%"}
          %thead
            %thead
              %th.green-light-title Detalle
              %th.green-light-title Mascota
              %th.green-light-title Tiempo
              %th.total Costo Unitario
              %th.total Precio Total
          %tbody
            - total = 0
            - @booking.booked_pets.each do |booked_pet|
              - diff = (@booking.end_date - @booking.start_date).to_i 
              - amount = AdditionalService.get_pet_rate(booked_pet.pet, @booking.provider_id) rescue 0
              - total += amount
              %tr.border-bottom
                %td=" Del #{@booking.start_date} al #{@booking.end_date}"
                %td= booked_pet.pet
                %td= pluralize(diff, "dia")
                %td.total= "$ #{number_to_currency(amount, unit: "MXN")}"
                %td.total= "$ #{number_to_currency(amount * diff, unit: "MXN")}"
          %tfoot
            %tr.border-bottom
              %td.total(colspan="4") Subtotal
              %td.total= "$ #{number_to_currency(total, unit: "MXN")}"
            %tr.border-bottom
              %td.total(colspan="4") Beneficios Kmimos 
              %td.total= "$ #{number_to_currency(total * 0.2, unit: "MXN")}"
            %tr.border-bottom
              %td.total(colspan="4") Total 
              %td.total= "$ #{number_to_currency(total * 1.2, unit: "MXN")}"
        %br 
        %h3 Servicios Adicionales
        %br
        %table.table{width: "100%"}
          %thead
            %th.green-light-title Servicios
            %th.total Costo
          %tbody
            - total = 0 
            - amount = AdditionalService.get_rate(booked_service.booking.provider_id, booked_service.pet.size_id, booked_service.service_id) rescue 0
            - total += amount
            - @booking.booked_services.each do |booked_service|
              %tr.border-bottom
                %td= booked_service.service
                %td= AdditionalService.get_rate(@booking.provider_id, booked_service.pet.size_id, booked_service.service_id) rescue 0
          %tfoot
            %tr.border-bottom
              %td.total Subtotal
              %td.total= "$ #{number_to_currency(total, unit: "MXN")}"
            %tr.border-bottom
              %td.total Beneficios Kmimos 
              %td.total= "$ #{number_to_currency(total * 0.2, unit: "MXN")}"
            %tr.border-bottom
              %td.total Precio Total 
              %td.total= "$ #{number_to_currency(total * 1.2, unit: "MXN")}"
        %br
        %p (*) Esta reserva esta sujeta a cambios si no es confirmada en las próximas 24 horas.
        %br
        %br
      %img{src: "http://www.ucarecdn.com/8acf1ab3-ad25-436c-8d36-399ee00d34cc/beneficios_kmimos.png", width: "100%"}
      %img{src: "http://www.ucarecdn.com/ea2d389b-63c6-4b8f-a857-b48f71c6445b/que_necesitamos_kmimos.png", width: "100%"}
      %center
        %img{src: "http://www.ucarecdn.com/624fa984-5c02-47a7-8786-6309a432ff9f/importante_kmimos_mail.png", width: "50%"}
    %footer{:style => "background:#13334C; padding: 4px 12px;width:100%"}
      %table{:style => "background:#13334C; padding: 4px 12px;width:100%"}
        %tr{:style => "background:#13334C; padding: 4px 12px;"}
          %td{:style => "background:#13334C; padding: 4px 12px;"}
            %p{:style => "color:white; margin-right: 17px; margin-left: 12px;"} Contáctanos: +55 3455 0138
          %td{:style => "background:#13334C; padding: 4px 12px;"}
            %a{:href => "http://www.cani.mx/", :style => "color: white; margin-right: 88px; text-decoration: none;"} www.cani.mx
          %td{:style => "background:#13334C; padding: 4px 12px;"}
            %p{:style => "color:white; margin-right: 14px;"} Síguenos en:
          %td{:style => "background:#13334C; padding: 4px 12px;"}
            %a{:href => "https://www.facebook.com/pages/Kamimos/1473614136234432?ref=bookmarks"}
              %img{:alt => "", :src => "http://www.ucarecdn.com/568fdffc-f6fe-45b1-9da9-a8e849b7c397/facebook.svg", :style => "margin-right: 3px;"}/
            %a{:href => "https://twitter.com/KmimosMx"}
              %img{:alt => "", :src => "http://www.ucarecdn.com/2316042b-28a7-46df-8343-1fc34050c200/twitter.svg", :style => "margin-right: 3px;"}/
            %a{:href => "https://instagram.com/kmimosmx/"}
              %img{:alt => "", :src => "http://www.ucarecdn.com/f3ae6486-dd5b-4b1a-8874-b51b9e08cea4/instagram.svg", :style => "margin-right: 3px;"}/
